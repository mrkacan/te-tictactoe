{"version":3,"sources":["assets/image/logo.png","assets/click.mp3","utils/helper.js","components/Square.js","components/Board.js","components/Header.js","pages/Game/Game.js","utils/storage.js","pages/RegisterUser/RegisterUser.js","pages/CreateOrJoinRoom/CreateOrJoinRoom.js","components/UserInfo.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","calculateWinner","newSquares","squares","length","map","i","lines","a","b","c","Box","posed","div","hidden","scale","opacity","visible","transition","ease","duration","default","Square","props","className","isMyTurn","onClick","pose","value","Board","this","isLoading","renderSquare","React","Component","Header","src","logo","Game","currentUserId","gameConfig","nextPlayer","isItMyRoom","ownerId","getOtherPlayer","otherPlayerId","otherPlayer","console","log","getNextPlayer","getWinnerName","state","X","O","isGameFineshed","history","newHistory","filter","getRandomPlayer","Math","random","checkAllSquareIsNull","allOfNull","forEach","Y","Winner","ownerWin","otherPlayerWin","Array","fill","stepNumber","xIsNext","xWantPlay","yWantPlay","setState","updateGame","navigator","vibrate","click","play","willIncreaseCountPlayer","setTimeout","winner","roomId","canPlay","gameLoading","ref","type","handleClick","spinning","defaultProps","setItem","key","item","localStorage","JSON","stringify","getItem","retrievedItem","parse","removeItem","clear","then","RegisterUser","checkUser","useState","userId","setUserId","size","placeholder","onChange","e","target","toLowerCase","spellCheck","autoFocus","block","CreateOrJoinRoom","checkRoom","setRoomId","number","max","disabled","UserInfo","logout","currentRoom","charAt","toUpperCase","defaultGameState","App","LocalStorage","isRegistered","runGameListeners","registerUser","firebase","database","once","snapshot","val","message","error","update","userActive","gameConfigDefault","gameConfigSnapshot","success","info","Number","prevState","on","willDispatchObject","appIsRunning","bind","window","addEventListener","vh","innerHeight","document","documentElement","style","setProperty","isRoomOwner","Boolean","location","hostname","match","Content","Layout","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","ReactDOM","render","getElementById","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.14d56001.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.7f18492e.png\";","module.exports = __webpack_public_path__ + \"static/media/click.53f1b460.mp3\";","export function calculateWinner(newSquares) {\n\n    let squares = newSquares && newSquares.length ? newSquares.map((i)=> {\n        return i ? i : null\n    }) : newSquares\n\n\n    const lines = [\n        [0, 1, 2],\n        [3, 4, 5],\n        [6, 7, 8],\n        [0, 3, 6],\n        [1, 4, 7],\n        [2, 5, 8],\n        [0, 4, 8],\n        [2, 4, 6]\n    ];\n    for (let i = 0; i < lines.length; i++) {\n        const [a, b, c] = lines[i];\n        if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n            return squares[a];\n        }\n    }\n    return null;\n}\n","import React from 'react';\nimport posed from 'react-pose';\n\nconst Box = posed.div({\n    hidden: {\n        scale: 0,\n        opacity: 0\n    },\n    visible: {\n        scale: 1,\n        opacity: 1,\n        transition: {\n            opacity: { ease: 'easeOut', duration: 300 },\n            default: { ease: 'linear', duration: 500 }\n        }\n    }\n});\n\nfunction Square(props) {\n    return (\n            <button\n\n                className={`square ${props.isMyTurn ? 'te-my-turn' : ''}`} onClick={props.onClick}>\n                <Box\n                    pose={(props.value === 'X' || props.value === 'O') ? 'visible' : 'hidden'}\n                >\n                    {props.value}\n                </Box>\n            </button>\n    );\n}\n\nexport default Square;\n","import React from 'react';\nimport Square from \"./Square\";\nimport {Spin} from \"antd\";\n\nclass Board extends React.Component {\n    renderSquare(i) {\n        return (\n            <Square\n                isMyTurn={this.props.isMyTurn}\n                value={this.props.squares[i]}\n                onClick={() => this.props.onClick(i)}\n            />\n        );\n    }\n\n    render() {\n        const {isLoading} = this.props;\n\n        return (\n            <div className={`${isLoading ? 'board-loading' : ''}`}>\n                {\n                    isLoading && <div className=\"board-spinner\">\n                        <Spin/>\n                    </div>\n                }\n                <div className=\"board-row\">\n                    {this.renderSquare(0)}\n                    {this.renderSquare(1)}\n                    {this.renderSquare(2)}\n                </div>\n                <div className=\"board-row\">\n                    {this.renderSquare(3)}\n                    {this.renderSquare(4)}\n                    {this.renderSquare(5)}\n                </div>\n                <div className=\"board-row\">\n                    {this.renderSquare(6)}\n                    {this.renderSquare(7)}\n                    {this.renderSquare(8)}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Board;\n","import React from 'react';\nimport logo from '../assets/image/logo.png';\nimport {Spin} from \"antd\";\n\nfunction Header(props) {\n    return (\n        <div className=\"te-logo-header\">\n            <div>\n                <img className=\"te-logo\" src={logo}/>\n            </div>\n            <div>\n                {\n                    props.isLoading && <Spin/>\n                }\n            </div>\n        </div>\n    );\n}\n\nexport default Header;\n","import React from 'react';\nimport {calculateWinner} from \"../../utils/helper\";\nimport Board from \"../../components/Board\";\nimport Header from \"../../components/Header\";\nimport {Button, Spin, Modal} from \"antd\";\nimport click from \"../../assets/click.mp3\";\n\nclass Game extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            X: '',\n            Y: '',\n            ownerId: '',\n            otherPlayerId: '',\n            Winner: '',\n            ownerWin: 0,\n            otherPlayerWin: 0,\n            nextPlayer: '',\n            history: new Array(9).fill(null),\n            stepNumber: 0,\n            xIsNext: true,\n            isLoading: true,\n            xWantPlay: true,\n            yWantPlay: true,\n        };\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        const {gameConfig: {history}, updateGame, gameConfig, yWantPlay} = props\n\n        // if (gameConfig && history) {\n        //     const winner = calculateWinner(history);\n        //     if (!!winner) {\n        //         updateGame({\n        //             xWantPlay: false,\n        //             yWantPlay: false\n        //         })\n        //     }\n        // }\n\n        console.log('props.gameConfig', props.gameConfig)\n        return {\n            ...props.gameConfig,\n            isLoading: !props.gameConfig.nextPlayer ? true : false\n        }\n    }\n\n    componentDidMount() {\n        const {gameConfig} = this.props\n\n        this.setState({\n            ...this.state,\n            ...gameConfig\n        })\n    }\n\n    handleClick(i) {\n        const {history} = this.state\n        const {updateGame, gameConfig: {X, ownerId}, currentUserId, gameConfig} = this.props\n\n        let newSquares = {...history}\n\n        if (!this.isMyTurn() || (calculateWinner(history) || history[i])) {\n            return;\n        }\n\n        navigator.vibrate([20]);\n        this.click.play()\n\n        newSquares[i] = X === currentUserId ? \"X\" : \"O\";\n        this.setState({\n            history: newSquares,\n        }, () => {\n            updateGame({\n                history: newSquares,\n                nextPlayer: this.getOtherPlayer()\n            })\n        });\n\n\n        if(calculateWinner(newSquares)){\n            const willWin =this.getWinnerName(calculateWinner(newSquares))\n\n            const willIncreaseCountPlayer = ownerId === willWin ? 'ownerWin' : 'otherPlayerWin';\n            updateGame({\n                [willIncreaseCountPlayer]: gameConfig[willIncreaseCountPlayer] + 1\n            })\n        }\n\n        console.log('calculateWinner(newSquares)',!!calculateWinner(newSquares))\n        if(this.isGameFineshed() || !!calculateWinner(newSquares)){\n            setTimeout(()=> {\n\n                this.setState({\n                    isLoading: true\n                })\n                updateGame({\n                    isLoading: true\n                })\n\n                setTimeout(()=> {\n                    updateGame({\n                        history: [],\n                        nextPlayer: this.getRandomPlayer()\n                    })\n                },1500)\n            },2000)\n        }\n    }\n\n    isMyTurn = () => {\n        const {currentUserId} = this.props;\n        const {gameConfig: {nextPlayer}} = this.props;\n\n        return nextPlayer === currentUserId\n    }\n\n    isItMyRoom = () => {\n        const {currentUserId} = this.props;\n        const {gameConfig: {ownerId}} = this.props;\n\n        return ownerId === currentUserId\n    }\n\n    getOtherPlayer = () => {\n        const {currentUserId} = this.props;\n        const {gameConfig: {ownerId, otherPlayerId}} = this.props;\n        let otherPlayer = ''\n\n        if (currentUserId === ownerId) {\n            otherPlayer = otherPlayerId\n        }\n\n        if (currentUserId === otherPlayerId) {\n            otherPlayer = ownerId\n        }\n\n        console.log('currentUserId', currentUserId)\n        console.log('ownerId', ownerId)\n        console.log('otherPlayerId', otherPlayerId)\n\n        console.log('--- > otherPlayer', otherPlayer)\n\n        return otherPlayer\n    }\n\n\n    getNextPlayer = () => {\n        const {gameConfig: {nextPlayer}} = this.props;\n\n        return nextPlayer ? nextPlayer : ''\n    }\n\n    getWinnerName = (state) => {\n        const {gameConfig: {X, O}} = this.props;\n\n        return state === 'X' ? X : O\n    }\n\n    isGameFineshed = () => {\n        const {history} = this.state\n\n        let newHistory =  (history && history.length) ? history.filter(i=> i) : []\n\n        if(newHistory && newHistory.length === 9){\n            return true\n        }\n\n        return false\n    }\n\n    getRandomPlayer = () => {\n        const {currentUserId} = this.props;\n        const otherPlayer = this.getOtherPlayer();\n        const isZeroOrOne = (Math.random()>0.5)? 1 : 0;\n\n        return isZeroOrOne === 1 ? currentUserId : otherPlayer\n    }\n\n    checkAllSquareIsNull = () => {\n        const {history} = this.state\n        let allOfNull = true\n\n        if(history){\n            history.forEach(i=> {\n                if(allOfNull && i){\n                    allOfNull = false\n                }\n            })\n        }\n\n        return !allOfNull\n    }\n\n    render() {\n        const {isLoading, history, ownerWin, otherPlayerWin, ownerId, otherPlayerId} = this.state\n        const {gameConfig, currentUserId, roomId, updateGame} = this.props\n\n        const winner = calculateWinner(history);\n        const isMyTurn = this.isMyTurn()\n        const isItMyRoom = this.isItMyRoom()\n        const nextPlayer = this.getNextPlayer()\n        const isGameFineshed = winner || (this.isGameFineshed() && this.checkAllSquareIsNull())\n        const canPlay = !!(ownerId && otherPlayerId)\n\n        console.log('winner',winner)\n        console.log('history',history)\n        console.log('this.isGameFineshed()',this.isGameFineshed())\n\n        if (!gameConfig) {\n            return <Header isLoading={true}/>\n        }\n\n        let status;\n        if (winner) {\n            status = \"Winner: \" + winner;\n        } else {\n            status = \"Next player: \" + nextPlayer;\n        }\n\n        if (isGameFineshed) {\n            status = \"Game has finished. Waiting for room owner for start game.\"\n        }\n\n        const gameLoading = isLoading || !canPlay\n\n        return (\n            <>\n                <audio ref={(click) => {\n                    this.click = click;\n                }}>\n                    <source src={click} type=\"audio/mpeg\">\n                    </source>\n                </audio>\n                <div className=\"game\">\n                    <div className=\"game-board\">\n                        <Board\n                            squares={history}\n                            onClick={i => !isLoading && canPlay && this.handleClick(i)}\n                            isMyTurn={isMyTurn}\n                            isLoading={gameLoading}\n                        />\n                    </div>\n                </div>\n                <div className={\"d-flex justify-content-center\"}>\n                    <div className={\"text-center te-stats\"}>\n                        <Spin spinning={!ownerId}>\n                            <div className=\"te-winner-stat-title\">\n                                {ownerId}\n                            </div>\n                        </Spin>\n                        <div className=\"te-win-stat\">\n                            {ownerWin}\n                        </div>\n                    </div>\n                    <div className={\"text-center te-stats\"}>\n                        <Spin spinning={!otherPlayerId}>\n                            <div className=\"te-winner-stat-title\">\n                                {otherPlayerId}\n                            </div>\n                        </Spin>\n                        <div className=\"te-win-stat\">\n                            {otherPlayerWin}\n                        </div>\n                    </div>\n                </div>\n                <h3 className=\"m-4 text-center\">\n                    {isGameFineshed ? 'Game completed' : isMyTurn ? 'Your Turn!' : 'Waiting opponent.'}\n                </h3>\n                <div className=\"mt-2 mb-2 text-center\">\n                    {\n                        winner && <h3>\n                            {`WINNER ${this.getWinnerName(winner)}!`}\n                        </h3>\n                    }\n                </div>\n                {/*{*/}\n                {/*    isItMyRoom && isGameFineshed &&*/}\n                {/*    <Button*/}\n                {/*        type=\"primary\"*/}\n                {/*        className=\"te-start-again-button\"*/}\n                {/*        block={true}*/}\n                {/*        onClick={() => updateGame({*/}\n                {/*        history: [],*/}\n                {/*        nextPlayer: this.getRandomPlayer()*/}\n                {/*    })}>*/}\n                {/*        Start Again*/}\n                {/*    </Button>*/}\n                {/*}*/}\n            </>\n        );\n    }\n}\n\nGame.defaultProps = {\n    gameConfig: {\n        X: '',\n        Y: '',\n        ownerId: '',\n        otherPlayerId: '',\n        Winner: '',\n        ownerWin: 0,\n        otherPlayerWin: 0,\n        nextPlayer: ''\n    }\n}\n\nexport default Game;\n","export default {\n  setItem: async function setItem(key, item) {\n    try {\n      return await localStorage.setItem(key, JSON.stringify(item))\n    } catch (error) {}\n  },\n  getItem: async function getItem(key) {\n    try {\n      const retrievedItem = await localStorage.getItem(key)\n      return JSON.parse(retrievedItem)\n    } catch (error) {}\n  },\n  removeItem: async function getItem(key) {\n    try {\n      return await localStorage.removeItem(key)\n    } catch (error) {}\n  },\n  clear: async () => {\n    try {\n      console.log('####_LOCAL_STORAGE_CLEARED_####')\n      return await localStorage.clear().then(() => {\n        return localStorage.setItem('isFirstTime', 'NO')\n      })\n    } catch (error) {}\n  },\n}\n","import React, {useState} from 'react';\nimport {Button, Input} from 'antd';\nimport LocalStorage from \"../../utils/storage\";\nimport Header from \"../../components/Header\";\n\nfunction RegisterUser({checkUser}) {\n    const [userId, setUserId] = useState('');\n    const onRegisterPress = () => {\n            checkUser(userId)\n    }\n\n\n    return (\n        <div className=\"te-register-form d-flex justify-content-center align-items-center\">\n            <div>\n                <Header/>\n                <Input\n                    size=\"large\"\n                    placeholder=\"username\"\n                    onChange={e => setUserId(e.target.value.toLowerCase())}\n                    className=\"text-center\"\n                    value={userId}\n                    spellCheck={false}\n                    autoFocus={true}\n                />\n                <Button\n                    className=\"mt-2\"\n                    type=\"primary\"\n                    block\n                    onClick={onRegisterPress}\n                >\n                    CONTINUE\n                </Button>\n            </div>\n        </div>\n    );\n}\n\nexport default RegisterUser;\n","import React, {useState} from 'react';\nimport {Button, Input} from 'antd';\nimport Header from \"../../components/Header\";\n\nfunction CreateOrJoinRoom({checkRoom}) {\n    const [roomId, setRoomId] = useState('');\n\n    const onJoinPress = () => {\n\n        if (roomId && roomId.length === 4) {\n            checkRoom(roomId)\n        }\n    }\n\n\n    const isNumberValid = (number) => {\n        return number === '' ? true : !!(number && number.length < 5);\n    }\n\n\n    return (\n        <div className=\"te-register-form d-flex justify-content-center align-items-center\">\n            <div>\n                <Header/>\n                <Input\n                    size=\"large\"\n                    placeholder=\"room id (4 digit)\"\n                    onChange={e => isNumberValid(e.target.value) && setRoomId(e.target.value)}\n                    className=\"text-center\"\n                    value={roomId}\n                    max={4}\n                    type=\"number\"\n                    autoFocus={true}\n                />\n                <Button\n                    disabled={roomId.length !== 4}\n                    className=\"mt-2\"\n                    type=\"primary\"\n                    block\n                    onClick={onJoinPress}\n                >\n                    JOIN & CREATE ROOM\n                </Button>\n            </div>\n        </div>\n    );\n}\n\nexport default CreateOrJoinRoom;\n","import {Avatar} from \"antd\";\nimport LogoutOutlined from \"@ant-design/icons/lib/icons/LogoutOutlined\";\nimport React from \"react\";\n\nfunction UserInfo({currentUserId, logout, currentRoom}) {\n    return (\n        <div className=\"d-flex justify-content-between align-items-center mb-4\">\n            <div className=\"d-flex align-items-center\">\n                <Avatar className=\"te-avatar\">\n                    {currentUserId.charAt(0).toUpperCase()}\n                </Avatar>\n                <div className=\"d-flex align-items-start flex-column\">\n                    <div className=\"te-active-user ml-2\">\n                        {'user: ' + currentUserId}\n                    </div>\n                    {currentRoom ?\n                    <div className=\"te-active-user ml-2\">\n                        {'room code: ' + currentRoom}\n                    </div>: null}\n                </div>\n            </div>\n            <div onClick={logout} className=\"cursor-pointer te-logout\">\n                Logout <LogoutOutlined size={\"medium\"}/>\n            </div>\n        </div>\n    );\n}\n\nexport default UserInfo;\n","import React from 'react';\nimport './styles/styles.css';\nimport firebase from \"firebase\";\nimport Game from \"./pages/Game/Game\";\nimport RegisterUser from \"./pages/RegisterUser/RegisterUser\";\nimport LocalStorage from \"./utils/storage\";\nimport CreateOrJoinRoom from \"./pages/CreateOrJoinRoom/CreateOrJoinRoom\";\nimport UserInfo from \"./components/UserInfo\";\nimport {message} from \"antd\";\nimport Header from \"./components/Header\";\n\nconst defaultGameState = {\n    X: '',\n    O: '',\n    ownerId: '',\n    otherPlayerId: '',\n    Winner: '',\n    ownerWin: 0,\n    otherPlayerWin: 0,\n    nextPlayer: '',\n    history: new Array(9).fill(null),\n    stepNumber: 0,\n    xIsNext: true,\n    xWantPlay: true,\n    yWantPlay: true,\n    isLoading: true\n}\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isRegistered: false,\n            currentUserId: null,\n            currentRoom: null,\n            gameConfig: {\n                ...defaultGameState\n            },\n            isLoading: true,\n            appIsRunning: false\n        }\n    }\n\n    componentDidMount() {\n        setTimeout(function () {\n            this.checkUser()\n        }.bind(this), 1500)\n\n        window.addEventListener('resize', () => {\n            // We execute the same script as before\n            let vh = window.innerHeight * 0.01;\n            document.documentElement.style.setProperty('--vh', `${vh}px`);\n        });\n\n\n    }\n\n    checkUser = () => {\n        LocalStorage.getItem('userId').then((currentUserId) => {\n            LocalStorage.getItem('currentRoom').then((currentRoom) => {\n                if (currentUserId) {\n                    this.setState({\n                        currentUserId,\n                        isRegistered: true,\n                        currentRoom,\n                    })\n                }\n\n                if (currentRoom && currentUserId) {\n                    this.runGameListeners()\n                }\n\n                this.setState({\n                    isLoading: false\n                })\n            })\n        })\n    }\n\n    registerUser = (currentUserId) => {\n        this.setState({\n            isLoading: true\n        })\n        firebase.database().ref(`users/${currentUserId}`).once('value', (snapshot) => {\n            let val = snapshot.val()\n\n            if (!val) {\n                firebase.database().ref(`users/${currentUserId}`).update({\n                    userActive: true\n                }).then(() => {\n                    LocalStorage.setItem('userId', currentUserId).then(() => {\n                        this.setState({\n                            currentUserId,\n                            isRegistered: true,\n                            currentRoom: null,\n                            isLoading: false\n                        })\n                    })\n                })\n            } else {\n                message.error('This user already exist. Please try with other username')\n                this.setState({\n                    isLoading: false,\n                })\n            }\n        })\n    }\n\n    checkRoom = (currentRoom) => {\n        const {currentUserId} = this.state\n\n        this.setState({\n            isLoading: true\n        })\n\n        firebase.database().ref(`rooms/${currentRoom}`).once('value', (snapshot) => {\n            let val = snapshot.val()\n            const gameConfigDefault = {\n                ...defaultGameState,\n                X: currentUserId,\n                ownerId: currentUserId,\n                nextPlayer: currentUserId,\n                isLoading: true\n            }\n\n            if (!val) {\n                firebase.database().ref(`rooms/${currentRoom}`).update(gameConfigDefault).then(() => {\n                    LocalStorage.setItem('currentRoom', currentRoom).then(() => {\n                        this.setState({\n                            currentRoom,\n                            gameConfig: gameConfigDefault,\n                            isLoading: false,\n                        })\n                        message.info('Room successfully created. Share your codes for join.\\n' + `Your code: ${currentRoom}`)\n                        this.runGameListeners()\n                    })\n                })\n            } else {\n                firebase.database().ref(`rooms/${currentRoom}`).once('value', (gameConfigSnapshot) => {\n                    firebase.database().ref(`rooms/${currentRoom}`).update({\n                        otherPlayerId: currentUserId,\n                        O: currentUserId,\n                        isLoading: false,\n                    }).then(()=> {\n                        LocalStorage.setItem('currentRoom', currentRoom).then(() => {\n                            this.setState({\n                                currentRoom,\n                                gameConfig:gameConfigSnapshot.val(),\n                                isLoading: false,\n                            })\n                            this.runGameListeners()\n                            message.success('Successfully joined.')\n                        })\n                    })\n                })\n            }\n        })\n    }\n\n    logout = () => {\n        LocalStorage.removeItem('userId').then(() => {\n            LocalStorage.removeItem('currentRoom').then(() => {\n                this.setState({\n                    currentUserId: null,\n                    isRegistered: false,\n                    currentRoom: null,\n                })\n            })\n\n        })\n    }\n\n    runGameListeners = () => {\n        LocalStorage.getItem('userId').then((currentUserId) => {\n            LocalStorage.getItem('currentRoom').then((currentRoom) => {\n                if (currentUserId && currentRoom) {\n                    this.setState({\n                        currentUserId,\n                        isRegistered: true,\n                        currentRoom,\n                    })\n\n                    firebase.database().ref(`rooms/${Number(currentRoom)}`).once('value', (gameConfigSnapshot) => {\n                        const gameConfig = gameConfigSnapshot.val()\n\n                        this.setState(prevState => ({\n                            ...prevState,\n                            gameConfig: {\n                                ...prevState.gameConfig,\n                                ...gameConfig,\n                                history: (gameConfig.history ? gameConfig.history : new Array(9).fill(null))\n                            }\n                        }))\n                    })\n\n                    firebase.database().ref(`rooms/${Number(currentRoom)}`).on('child_changed', (gameConfigSnapshot) => {\n                        const gameConfig = gameConfigSnapshot\n                        console.log('gameConfig',gameConfig)\n                        this.setState(prevState => ({\n                            ...prevState,\n                            gameConfig: {\n                                ...prevState.gameConfig,\n                                [gameConfig.key]: gameConfig.val()\n                            }\n                        }))\n                    })\n\n                    firebase.database().ref(`rooms/${Number(currentRoom)}`).on('child_added', (gameConfigSnapshot) => {\n                        const gameConfig = gameConfigSnapshot\n\n                        this.setState(prevState => ({\n                            ...prevState,\n                            gameConfig: {\n                                ...prevState.gameConfig,\n                                [gameConfig.key]: gameConfig.val()\n                            }\n                        }))\n                    })\n\n                    firebase.database().ref(`rooms/${Number(currentRoom)}/history`).on('child_removed', (gameConfigSnapshot) => {\n\n                        this.setState(prevState => ({\n                            ...prevState,\n                            gameConfig: {\n                                ...prevState.gameConfig,\n                                history: []\n                            }\n                        }))\n                    })\n\n                }\n            })\n        })\n    }\n\n    updateGame = (willDispatchObject) => {\n        const {currentRoom} = this.state\n\n        firebase.database().ref(`rooms/${Number(currentRoom)}`).update(willDispatchObject)\n    }\n\n    render() {\n        const {\n            isRegistered,\n            currentUserId,\n            currentRoom,\n            roomId,\n            gameConfig,\n            isLoading\n        } = this.state;\n\n        if (isLoading) {\n            return <Header isLoading={isLoading}/>\n        }\n\n        if (!isRegistered) {\n            return <RegisterUser checkUser={this.registerUser}/>\n        }\n\n\n        if (!currentRoom) {\n            return <>\n                <UserInfo\n                    currentUserId={currentUserId}\n                    logout={this.logout}\n                />\n                <CreateOrJoinRoom\n                    checkRoom={this.checkRoom}/>\n            </>\n        }\n\n\n        return (\n            <>\n                <UserInfo\n                    currentUserId={currentUserId}\n                    currentRoom={currentRoom}\n                    logout={this.logout}\n                />\n                <Game\n                    currentUserId={currentUserId}\n                    roomId={roomId}\n                    gameConfig={gameConfig}\n                    isRoomOwner={gameConfig && gameConfig.ownerId === currentUserId}\n                    updateGame={this.updateGame}\n                />\n            </>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {Layout} from \"antd\";\nimport 'antd/dist/antd.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport firebase from \"firebase\";\n\nconst {Content} = Layout;\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyDQtpaeFhvUUeUtUUxA4xlDaEzDiSo7fHc\",\n    authDomain: \"te-tictactoe.firebaseapp.com\",\n    databaseURL: \"https://te-tictactoe.firebaseio.com\",\n    projectId: \"te-tictactoe\",\n    storageBucket: \"te-tictactoe.appspot.com\",\n    messagingSenderId: \"478023561910\",\n    appId: \"1:478023561910:web:81e0297885e6397316ec17\",\n    measurementId: \"G-LB8CWZC46J\"\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nReactDOM.render(\n    <>\n        <Layout className=\"layout te-game-layout\">\n            <Content className=\"te-game-content\">\n                <div className=\"site-layout-content\">\n                    <App/>\n                </div>\n            </Content>\n        </Layout>\n    </>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}